<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Cómo instalar Jekyll en OSX - Minid.net – Diego Martin Lafuente's personal website & blog</title>
    <style>
      html{-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility}body{margin:0}pre{font-family:monospace, monospace;font-size:1em}code,kbd,samp{font-family:monospace, monospace;font-size:1em}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}.background-color--1{background-color:#ffd}.background-color--2{background-color:#ff6}.background-color--3{background-color:#ffffc9}.background-color--4{background-color:#ccf6f6}.display--grid{display:grid}.font-weight--200{font-weight:200}.font-weight--400{font-weight:400}.font-weight--800{font-weight:800}.font-weight--normal{font-weight:normal}.font-weight--bold{font-weight:bold}@media (min-width: 768px){.md-grid-column--1{grid-column:span 1/span 1}.md-grid-column--2{grid-column:span 2/span 2}.md-grid-template-columns--1{grid-template-columns:repeat(1, 1fr)}.md-grid-template-columns--2{grid-template-columns:repeat(2, 1fr)}}.list-style--none{list-style:none}.list-style--decimal{list-style:decimal}.list-style--disc{list-style:disc}.list-style--square{list-style:square}.margin--0{margin:0px}.margin--8{margin:8px}.margin-top--0{margin-top:0px}.margin-top--8{margin-top:8px}.margin-bottom--0{margin-bottom:0px}.margin-bottom--8{margin-bottom:8px}.margin-left--0{margin-left:0px}.margin-left--8{margin-left:8px}.margin-right--0{margin-right:0px}.margin-right--8{margin-right:8px}.padding--0{padding:0px}.padding--16{padding:16px}.padding--32{padding:32px}.padding-top--0{padding-top:0px}.padding-top--16{padding-top:16px}.padding-top--32{padding-top:32px}.padding-bottom--0{padding-bottom:0px}.padding-bottom--16{padding-bottom:16px}.padding-bottom--32{padding-bottom:32px}.padding-left--0{padding-left:0px}.padding-left--16{padding-left:16px}.padding-left--32{padding-left:32px}.padding-right--0{padding-right:0px}.padding-right--16{padding-right:16px}.padding-right--32{padding-right:32px}.text-transform--capitalize{text-transform:capitalize}.width--100{width:100%}.width--auto{width:auto}body{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}h1{font-size:2.125rem}h2{font-size:1.75rem}h3{font-size:1.375rem}p,ul,ol,blockquote{font-size:1.0625rem;line-height:1.6rem}@media (min-width: 768px){.c-article{padding:64px}}.font-family--sans{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}

    </style>
  </head>
  <body class="c-body">
    <header class="background-color--2 padding--16">
  <a href="/"><strong>minid.net:</strong></a> &rarr; <a href="" class="text-transform--capitalize">desarrollo</a>
</header>
    <main>
      <article class="padding--16 c-articles">
        <h4><a href="/archives/" title="List of all blog posts">Minid the blog</a>, March 12, 2013:</h4>
        <h1>Cómo instalar Jekyll en OSX</h1>
        <section>
          
        </section>
      <p>Jekyll es ahora la joya de la casa. La Helena de Troya de mis ordenadores. Es el sistema de análisis de archivos que utilizo para realizar y mantener este blog. Si no sabes que es Jekyll, te recomiendo que leas <a href="/2013/02/27/una-nueva-forma-de-bloguear/" title="Blogueando como un Hacker con Jekyll">mi anterior entrada</a> sobre el tema así entiendes qué es Jekyll, cómo funciona y sus ventajas. Pero si lo que deseas es empezar ya a probar una nueva forma de bloguear entonces empieza por instalar Jekyll y probar como funciona.</p>

<p>Para tener todo a punto, hay instalar unas cosas antes, la gran mayoría son prerequisitos obligatorios para poder tener todo funcionando. Sigue estos pasos y en nada tienes todo preparado.</p>

<h2 id="instalar-xcode">Instalar XCode</h2>

<p>Jekyll, a diferencia de otros sistemas, requiere de una instalación concreta de programas y módulos. Lo primero que tenemos que tener instalado en nuestro Mac, es XCode. Y la mejor forma de instalarlo, ahora mismo, <a href="https://itunes.apple.com/es/app/xcode/id497799835?mt=12" title="XCode">es a través de el Mac App Store</a>.</p>

<p>Una vez instalado XCode, es importante instalar las herramientas de consola. Y como esto no se instala de forma automática, hay que indicarlo en las Preferencias de XCode. En la sección <em>Downloads</em> de las preferencias encontrarás, dentro de la pestaña <em>Components</em> los paquetes para instalar las herramientas de consola. En la lista tendrás seguro: iOS 6.0, iOS 5.1, iOS 5.0 y las Command Line Tools. La instalación lleva un rato, aunque fueren 114MB los que tiene que descargar, el proceso, no sé porqué, es lento.</p>

<p>Para saber realmente si tienes instalado GCC en tu Mac, debes abrir un Terminal y ejecutar este comando:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	<span class="nv">$ </span>gcc <span class="nt">--version</span></code></pre></figure>

<p>Y si va todo bien debería decirte:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	i686-apple-darwin10-llvm-gcc-4.2 <span class="o">(</span>GCC<span class="o">)</span> 4.2.1</code></pre></figure>

<p>Si aparece este mensaje es que ya puedes realizar el resto del instalaciones sin problemas.</p>

<h2 id="instalando-homebrew">Instalando Homebrew</h2>

<p>Si no tienes Homebrew, es hora ya de instalar este gestor de paquetes. Mi recomendación si tienes algún gestor de paquetes como Ports, es quitarlo así no generan conflictos. Homebrew es una maravilla y te permite instalar muchas cosas sin hacerte problemas. Para instalarlo, corremos el siguiente comando:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	<span class="nv">$ </span>ruby <span class="nt">-e</span> <span class="s2">"</span><span class="k">$(</span>curl <span class="nt">-fsSkL</span> raw.github.com/mxcl/homebrew/go<span class="k">)</span><span class="s2">"</span></code></pre></figure>

<p>Sigue todas las instrucciones que te diga la instalación. No debería llevarte mucho. Una vez instalado Homebrew, puedes instalar cosas con el comando:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	<span class="nv">$ </span>brew doctor</code></pre></figure>

<p>Y si te dice <code class="highlighter-rouge">Your system is raring to brew</code> es porque lo tienes instalado perfecto. Sino te dirá algo así:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	Warning: Your Homebrew is outdated
	You haven<span class="s1">'t updated for at least 24 hours, this is a long time in brewland!</span></code></pre></figure>

<h2 id="opcional-instalar-git">Opcional: instalar Git</h2>

<p>El siguiente paso es instalar <a href="http://github.com/" title="Github · Build software better, together.">Git</a>. Aunque no es necesario, es recomendable ya que de esta forma podremos clonar repositorios y subir nuestro blog a Github para tener una copia backup. Otra de las razones es que la gran mayoría de los plugins están en Github, algunos conversores de un CMS a Markdown sólo están ahí y conviene con una línea de comando ya bajarlos y tenerlos listos.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	<span class="nv">$ </span>brew install git</code></pre></figure>

<h3 id="instalar-ruby">Instalar Ruby</h3>

<p>El siguiente paso sería instalar Ruby. <a href="http://www.ruby-lang.org/es/" title="Lenguaje de Programación Ruby">Ruby</a> es un lenguaje de programación que utiliza Jekyll y es recomendable tenerlo instalado. Hay que instalar la última versión. Si tienes Mac OS X Mountain Lion, tendrás la versión 1.8.7. Según los tutoriales que he leído, lo más recomendable es tener instalado RVM (Ruby Version Manager) en el Mac. Esto permite realizar varias instalaciones de Ruby en un mismo ordenador y, indicar cuál es la correcta. De esta forma si un día queremos tener algo que funciona sólo en alguna versión antigua podríamos hacerlo con RVM. Instalar RVM es relativamente fácil, abre un Terminal y escribe:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	<span class="nv">$ </span>brew tap homebrew/dupes
	<span class="nv">$ </span>brew install autoconf automake apple-gcc42 tcl libksba
	<span class="nv">$ </span>curl <span class="nt">-L</span> https://get.rvm.io | bash <span class="nt">-s</span> stable <span class="nt">--ruby</span></code></pre></figure>

<p>Sigue los pasos, y cuando tengas instalado RVM, puedes instalar Ruby. Mi recomendación es la 1.9.2 para arriba (1.9.3 ahora creo que van) y con esto ya podrías correr sin problemas Jekyll. Para realizar esto, antes de instalar Ruby tenemos que comprobar si RVM cumple los requerimientos (a veces hace falta instalar algo):</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	<span class="nv">$ </span>rvm get head</code></pre></figure>

<p>Cualquier librería que te falte la puedes instalar usando el comando <code class="highlighter-rouge">brew install</code>. Si no te faltó nada, entonces ya puedes instalar Ruby:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	<span class="nv">$ </span>rvm install 1.9.3  <span class="nt">--with-gcc</span><span class="o">=</span>clang</code></pre></figure>

<p>Una vez instalado debemos configurarlo como la versión de Ruby oficial en nuestra máquina:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	<span class="nv">$ </span>rvm use 1.9.3 <span class="nt">--default</span></code></pre></figure>

<p>Utiliza el comando <code class="highlighter-rouge">$ ruby -v</code> para verificar que realmente tienes oficializada la versión 1.9.x. Si todo está bien deberías ver algo así como <code class="highlighter-rouge">ruby 1.9.3p392 (2013-02-22 revision 39386) [x86_64-darwin12.2.0]</code>.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">	<span class="nv">$ </span>rvm use 1.9.3 <span class="nt">--default</span></code></pre></figure>

<p>Con esto ya podemos tirar para adelante con la instalación de Jekyll.</p>

<h3 id="instalando-jekyll">Instalando Jekyll</h3>

<p>La mejor forma de instalar Jekyll es con RubyGems. Si no tienes instalado RubyGems, antes puedes comprobarlo en la Consola ejecutando <code class="highlighter-rouge">$ gem -v</code>. Si tienes instalado entonces debes ejecutar:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  gem install jekyll</code></pre></figure>

<p>Luego instala las siguientes gemas: <code class="highlighter-rouge">directory_watcher</code>, <code class="highlighter-rouge">liquid</code>, <code class="highlighter-rouge">maruku</code> y <code class="highlighter-rouge">classifier</code> con el instalador de gemas. Es probable que no tengas las últimas versiones de gemas, es buen tiempo para ejecutar un upgrade de todas las gemas:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nb">sudo </span>gem update <span class="nt">--system</span></code></pre></figure>

<p>Bien, de todas las gemas, <a href="http://maruku.rubyforge.org/" title="Maruku: a Markdown-superset interpreter">Maruku</a> es una de las gemas encargadas de interpretar los archivos de Markdown. Maruku no es una mala gema pero muchos prefieren <a href="https://github.com/rtomayko/rdiscount" title="rtomayko/rdiscount · Github">RDiscount</a> por su velocidad. Yo también elegí esta gema. Para instalar RDiscount simplemente usamos RubyGems:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nv">$ </span><span class="nb">sudo </span>gem install rdiscount</code></pre></figure>

<p>Luego podemos ejecutar RDiscount con Jekyll así:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nv">$ </span>jekyll <span class="nt">--rdiscount</span></code></pre></figure>

<p>O bien en nuestro archivo _config.yml podemos poner:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  markdown: rdiscount</code></pre></figure>

<p>Esto hará que todas las veces que ejecutes <code class="highlighter-rouge">jekyll --server</code> cargue por defecto RDiscount cuando necesite procesar Markdown.</p>

<h3 id="empezando-con-jekyll">Empezando con Jekyll</h3>

<p>Lo importante que tienes que recordar sobre Jekyll es que es un motor de análisis de texto. Recorre una serie de documentos, carpetas y los convierte usando unas plantillas definidas a páginas de HTML. En medio de este proceso, podemos toquetear las URLs a generarse, la forma de escribir estos documentos con Markdown o Textile y otros elementos más. Ahora que ya tienes instalado Jekyll lo interesante sería crees una carpeta donde poder armar un sitio y vuelques una estructura de documentos adecuada.</p>

<p>Una estructura típica de Jekyll tiene este aspecto:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nb">.</span>
  |-- _config.yml
  |-- _includes
  |-- _layouts
  |   |-- default.html
  |   <span class="sb">`</span><span class="nt">--</span> post.html
  |-- _posts
  |   |-- 2013-03-07-como-instalar-jekyll-en-OSX.markdown
  |   <span class="sb">`</span><span class="nt">--</span> 2013-03-26-barcamp-boston-4-roundup.textile
  |-- _site
  <span class="sb">`</span><span class="nt">--</span> index.html</code></pre></figure>

<p><code class="highlighter-rouge">_config.yml</code> es el archivo de configuración del proyecto. Sirve para ejecutar órdenes de forma automática cada vez que inicies el servicio de Jekyll. Ahí dentro podrás configurar el proyecto al 100%. Desde dejar de usar Markdown a utilizar algún analizador de Textile y así con todo.</p>

<p>Funciona de la siguiente manera: existe una función y un estado. Un ejemplo:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  markdown: rdiscount</code></pre></figure>

<p>Esta opción le dice a Jekyll que usaremos Markdown en nuestro proyecto pero además, usaremos la gema rdiscount para procesar los archivos de Markdown. Esta es la composición de un <code class="highlighter-rouge">_config.yml</code>. Puedes revisar claro la documentación sobre este archivo que detalla cada opción.</p>

<p>Ahora para no liarte mucho, crea un archivo de textos y nómbralo a <code class="highlighter-rouge">_config.yml</code>, dentro escribe lo siguiente:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  auto: <span class="nb">false
  </span>server: <span class="nb">false
  </span>lsi: <span class="nb">false
  </span>pygments: <span class="nb">true
  </span>markdown: rdiscount
  pygments: <span class="nb">true
  </span>permalink: /:year/:month/:day/:title
  paginate: 1
  exclude: <span class="o">[</span><span class="s2">"lib"</span>, <span class="s2">"blog.rb"</span>, <span class="s2">"Capfile"</span>, <span class="s2">"config"</span>, <span class="s2">"log"</span>, <span class="s2">"Rakefile"</span>, <span class="s2">"tmp"</span><span class="o">]</span>
  destination: public</code></pre></figure>

<p>Parte de este ejemplo está basado en <a href="https://github.com/meerita/minidenet/blob/master/_config.yml" title="minidenet/_config.yml at master · meerita/minidenet">mi archivo de configuración</a>. Puedes guiarte pero no utilices todo, porque puede que te dé error al cargar Jekyll. Lo importante está en este ejemplo es que básicamente te hará una carpeta <code class="highlighter-rouge">/public/</code> donde pondrá los archivos <code class="highlighter-rouge">.html</code> ya procesados y generados con una estructura de html práctica al mejor estilo <code class="highlighter-rouge">/año/mes/día/título</code> así que no tendrás que preocuparte por configurar Apaches ni nada. En futuros artículos discutiremos varias formas de conseguir los mismos resultados y aprendiendo más cosas.</p>

<p>Teniendo ya el archivo de configuración lo siguiente en importancia tiene más que ver con las carpetas donde se guardan los archivos. Habíamos ejemplificado antes algunas carpetas. Estas carpetas son leídas por Jekyll y algunas son normativas. Por ejemplo, la carpeta <code class="highlighter-rouge">_posts/</code> será investigada para encontrar archivos de textos con un formato específico. Si encuentra uno, lo analizará y a partir de aquí, generará el resultado final del HTML, pero el resto de carpetas tienen otras funciones predefinidas.</p>

<p>La carpeta <code class="highlighter-rouge">_layouts/</code> será aquella que contenga tus plantillas en HTML. Servirán para definir todo tipo de plantillas, desde las que utilices en los posts como otras, dependiendo la complejidad del proyecto, claro.</p>

<p>La carpeta <code class="highlighter-rouge">_includes/</code> será aquella que contenga los archivos parciales que usas en las plantillas. Por ejemplo, si necesitas hacer una cabecera, no hace falta que la tengas que repetir la misma cantidad de HTML en cada plantilla principal. Puedes hacer un archivo <code class="highlighter-rouge">cabecera.html</code> que contenga el HTML y luego en la plantilla escribes <code class="highlighter-rouge">include header.html</code> para que cada vez que Jekyll procese esa plantilla llame a ese parcial. Un buen proyecto debería estar separado, de forma que puedas mantenerlo con menos trabajo.</p>

<p>La carpeta <code class="highlighter-rouge">_plugins/</code> será aquella que utilizaremos para poner nuestros plugins. Los plugins son funciones adicionales que podemos descargar de repositorios en Github ofreciéndonos la posibilidad de extender la funcionalidad que Jekyll no posee. Yo utilizo algunos plugins, pero no demasiados. Hay ya unos cuantos disponibles y la instalación es simple. Tiras un archivo dentro de la carpeta y lo llamas desde <code class="highlighter-rouge">_config.yml</code>. Así de simple.</p>

<p>Nos queda <code class="highlighter-rouge">index.html</code> que actualmente será la plantilla de entrada del blog o sitio. Como en Wordpress, esta plantilla dispone de un <em>loop</em> con el que puedes sacar los posts.</p>

<p>Estas eran todas las carpetas que necesita el proyecto. Ahora hagamos una entrada de prueba para ver los resultados de nuestra instalación.</p>

<h3 id="escribiendo-en-jekyll">Escribiendo en Jekyll</h3>

<p>Jekyll, como analizador, requiere de una estricticidad a la hora de escribir entradas para tu blog. Hay que respetar una cierta estructura. Pero no os asustéis: no es complicado. Lo primero que tenemos que aprender es a componer un post. Y para ello haremos un tutorial rápido de ello.</p>

<p>Abre un editor de textos y empieza por escribir la cabecera de la entrada del blog:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  <span class="nt">---</span>
  title: Mi nuevo post
  date: 2013-03-15
  slug: mi-nuevo-post
  <span class="nt">---</span>

  Aquí va mi <span class="k">*</span>nueva<span class="k">*</span> entrada</code></pre></figure>

<p>Eso es la cabecera de cada entrada. Debajo de los guiones, escribes tu entrada con Markdown. Salva el archivo de forma lógica, como tiene que estar: primero la fecha, luego el título. Esta entrada está nombrada así:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">  2013-03-07-como-instalar-jekyll-en-osx.md</code></pre></figure>

<p>Es importante tener bien esto porque sino habrá problemas para generar el blog luego. Ahora lo que tienes que hacer para generar tu blog y verlo en funcionamiento es ejecutar el comando <code class="highlighter-rouge">$ jekyll --server</code>. Una vez</p>

<p>Una vez tengas corriendo Jekyll, notarás te ha creado una carpeta extra, llamada <code class="highlighter-rouge">public</code> que es básicamente la que hemos nombrado en el archivo de configuración. Puedes usar cualquier nombre y volver a regenerar el sitio que Jekyll borrará todo y volverá a hacer.</p>

<h3 id="subiendo-los-cambios">Subiendo los cambios</h3>

<p>Ya están las entradas escritas, ya están las plantillas, queda subir el blog. Hay varios métodos. Los automáticos y los manuales. Los manuales, los más fáciles para aquellos que no saben hacer scripts de Consola. Simplemente puedes sincronizar tu carpeta con la que tengas por FTP así no subes todos los archivos o bien, puedes subir y sobreescribir todo. El lado automático, ejecutar un comando y que haga todo es más complicado. Además, puedes usar otras herramientas más allá de un script de Consola. Yo utilizo un script que hace varias tareas antes de subirlo todo a mi servidor. El proceso tarda apróximadamente 25 segundos.</p>

<p>Con esto termino el primer artículo técnico sobre Jekyll. El siguiente veremos más temas de plantillas y configuración para pasar tu blog de Wordpress a Jekyll.</p>


      </article>
    </main>
    <section class="padding--16">
  <hr>
  <p class="margin--0">
  
    <strong>Previous:</strong> February 27, 2013 <a class="prev" href="/blog/2013/02/27/blogueando-como-un-hacker-con-jekyll/">Blogueando como un Hacker con Jekyll</a>
  
  <br>
  
    <strong>Next:</strong>  Feb 27  <a class="next" href="/blog/2013/03/20/no-me-robes-el-estilo/">No me robes el estilo</a>
  
  </p>
</section>
    <footer class="padding--16">
  <p class="margin--0"><span class="background-color--2">See also:</span> complete <a href="/archives/">list of other blog posts</a></p>
</footer>
  </body>
</html>
